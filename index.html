

<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #f0f9ff;
        }
        .tab {
            @apply px-4 py-2 text-sm font-medium rounded-t-lg;
            transition: all 0.3s ease;
        }
        .tab.active {
            @apply bg-blue-500 text-white;
        }
        .tab:not(.active) {
            @apply bg-gray-200 text-gray-700 hover:bg-blue-100;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .quiz-option {
            @apply p-4 border rounded-lg mb-3 cursor-pointer transition-all flex items-center;
            position: relative;
            overflow: hidden;
        }
        .quiz-option:hover {
            @apply bg-blue-50 border-blue-300;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        .quiz-option.selected {
            @apply bg-blue-100 border-blue-500;
        }
        .quiz-option.correct {
            @apply bg-green-100 border-green-500;
        }
        .quiz-option.incorrect {
            @apply bg-red-100 border-red-500;
        }
        .option-circle {
            @apply flex items-center justify-center rounded-full w-8 h-8 mr-4 border-2 border-blue-500;
            flex-shrink: 0;
            position: relative;
        }
        .quiz-option.selected .option-circle {
            @apply border-blue-600;
        }
        .quiz-option.selected .option-circle::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background-color: #3b82f6;
        }
        .quiz-option.correct .option-circle {
            @apply border-green-500;
        }
        .quiz-option.correct .option-circle::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background-color: #48bb78;
        }
        .quiz-option.incorrect .option-circle {
            @apply border-red-500;
        }
        .quiz-option.incorrect .option-circle::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background-color: #f56565;
        }
        .progress-container {
            @apply bg-gray-200 rounded-full h-4 mb-6;
            overflow: hidden;
        }
        .progress-bar {
            @apply bg-blue-500 h-full;
            transition: width 0.3s ease;
        }
        .certificate {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cpath fill='%23f0f9ff' d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill-opacity='0.1'/%3E%3C/svg%3E");
            border: 10px solid #4299e1;
            position: relative;
        }
        .certificate::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 80 80'%3E%3Cpath fill='%234299e1' d='M14 16H9v-2h5V9.87a4 4 0 1 1 2 0V14h5v2h-5v15.95A10 10 0 0 0 23.66 27l-3.46-2 8.2-2.2-2.9 5a12 12 0 0 1-21 0l-2.89-5 8.2 2.2-3.47 2A10 10 0 0 0 14 31.95V16zm40 40h-5v-2h5v-4.13a4 4 0 1 1 2 0V54h5v2h-5v15.95A10 10 0 0 0 63.66 67l-3.47-2 8.2-2.2-2.88 5a12 12 0 0 1-21.02 0l-2.88-5 8.2 2.2-3.47 2A10 10 0 0 0 54 71.95V56zm-39 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm40-40a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM15 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm40 40a2 2 0 1 0 0-4 2 2 0 0 0 0 4z'%3E%3C/path%3E%3C/svg%3E");
            opacity: 0.05;
            z-index: -1;
        }
        .dashboard-card {
            @apply bg-white rounded-lg shadow-md p-6 transition-transform duration-300;
        }
        .dashboard-card:hover {
            transform: translateY(-5px);
        }
        .question-number {
            @apply flex items-center justify-center rounded-full w-10 h-10 bg-blue-500 text-white font-bold text-lg;
            flex-shrink: 0;
        }
        .question-card {
            @apply p-6 bg-white border rounded-lg shadow-sm mb-8;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .question-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .explanation-box {
            @apply mt-4 p-4 rounded-lg;
            border-left: 4px solid;
        }
        .explanation-box.correct {
            @apply bg-green-50;
            border-color: #48bb78;
        }
        .explanation-box.incorrect {
            @apply bg-red-50;
            border-color: #f56565;
        }
        .footer {
            @apply mt-12 py-6 border-t border-gray-200 text-center text-gray-600;
        }
        @media print {
            body * {
                visibility: hidden;
            }
            #certificate-print, #certificate-print * {
                visibility: visible;
            }
            #certificate-print {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
            }
            .no-print {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="container mx-auto px-4 py-8">
        <header class="mb-8 text-center">
            <h1 class="text-3xl font-bold text-blue-600">üìö ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î üõë</h1>
            <p class="text-gray-600 mt-2">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤</p>
        </header>

        <!-- Tab Navigation -->
        <div class="flex flex-wrap mb-4 border-b border-gray-200">
            <button class="tab active" onclick="showTab('home')">üè† ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
            <button class="tab" onclick="showTab('quiz')" id="quiz-tab" disabled>üìù ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</button>
            <button class="tab" onclick="showTab('dashboard')">üìä ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</button>
            <button class="tab" onclick="showTab('certificate')">üèÜ ‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£</button>
            <button class="tab" onclick="showTab('scores')">üìã ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</button>
        </div>

        <!-- Tab Contents -->
        <!-- Home Tab -->
        <div id="home" class="tab-content active">
            <div class="bg-white rounded-lg shadow-lg p-8 max-w-md mx-auto">
                <h2 class="text-2xl font-bold text-center mb-6">üëã ‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>
                <form id="login-form" class="space-y-4">
                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-700 mb-1">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                        <input type="text" id="name" name="name" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="classroom" class="block text-sm font-medium text-gray-700 mb-1">‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label>
                        <select id="classroom" name="classroom" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô --</option>
                            <option value="‡∏õ.1">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1</option>
                            <option value="‡∏õ.2">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 2</option>
                            <option value="‡∏õ.3">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 3</option>
                            <option value="‡∏õ.4">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 4</option>
                            <option value="‡∏õ.5">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 5</option>
                            <option value="‡∏õ.6">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 6</option>
                        </select>
                    </div>
                    <div>
                        <label for="school" class="block text-sm font-medium text-gray-700 mb-1">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label>
                        <input type="text" id="school" name="school" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div class="flex space-x-2">
                        <button type="submit" class="flex-1 bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition duration-300">
                            ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö
                        </button>
                        <button type="reset" class="bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg transition duration-300">
                            ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Quiz Tab -->
        <div id="quiz" class="tab-content">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold">üìù ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î</h2>
                    <div>
                        <span class="font-medium text-blue-600" id="user-info-display"></span>
                    </div>
                </div>
                
                <div class="mb-6 p-4 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                    <p class="font-medium">üìã ‡∏Ñ‡∏≥‡∏ä‡∏µ‡πâ‡πÅ‡∏à‡∏á: ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î 10 ‡∏Ç‡πâ‡∏≠ ‡∏Ç‡πâ‡∏≠‡∏•‡∏∞ 10 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
                    <p>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏•‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>
                    <p class="text-red-600 font-medium mt-2">* ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 60% ‡∏à‡∏∂‡∏á‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÑ‡∏î‡πâ</p>
                </div>
                
                <!-- Progress Bar -->
                <div class="progress-container">
                    <div class="progress-bar" id="quiz-progress" style="width: 0%"></div>
                </div>
                
                <!-- Quiz Status -->
                <div class="flex justify-between items-center mb-6">
                    <div class="text-sm font-medium text-gray-600">
                        ‡∏ï‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß: <span id="answered-count">0</span>/10
                    </div>
                    <div class="text-sm font-medium text-blue-600">
                        ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: <span id="current-score">0</span>/100
                    </div>
                </div>

                <div id="quiz-container" class="space-y-8">
                    <!-- Quiz questions will be generated here -->
                </div>

                <div id="quiz-result" class="mt-8 p-6 bg-blue-50 rounded-lg text-center hidden">
                    <h3 class="text-2xl font-bold mb-2">üéâ ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h3>
                    <p class="text-xl mb-4">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: <span id="final-score" class="font-bold text-blue-600">0</span> / 100</p>
                    <div id="pass-message" class="mb-4 p-3 bg-green-100 text-green-800 rounded-lg hidden">
                        <p class="font-medium">‚úÖ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö</p>
                    </div>
                    <div id="fail-message" class="mb-4 p-3 bg-red-100 text-red-800 rounded-lg hidden">
                        <p class="font-medium">‚ùå ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö (60%) ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</p>
                    </div>
                    <div class="flex justify-center">
                        <button id="save-result" class="bg-green-500 hover:bg-green-600 text-white font-medium py-3 px-6 rounded-lg transition duration-300 flex items-center hidden">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                            ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö
                        </button>
                        <button id="retry-quiz" class="bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition duration-300 flex items-center hidden ml-3">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd" />
                            </svg>
                            ‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold mb-6">üìä ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="dashboard-card bg-blue-50">
                        <h3 class="text-lg font-semibold mb-2">üë®‚Äçüéì ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h3>
                        <p class="text-3xl font-bold text-blue-600" id="total-participants">0</p>
                    </div>
                    <div class="dashboard-card bg-green-50">
                        <h3 class="text-lg font-semibold mb-2">‚úÖ ‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå (60%)</h3>
                        <p class="text-3xl font-bold text-green-600" id="passed-count">0</p>
                    </div>
                    <div class="dashboard-card bg-yellow-50">
                        <h3 class="text-lg font-semibold mb-2">üèÜ ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</h3>
                        <p class="text-3xl font-bold text-yellow-600" id="average-score">0</p>
                    </div>
                </div>
                
                <h3 class="text-xl font-semibold mb-4">üìà ‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå</h3>
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="py-2 px-4 border">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
                                <th class="py-2 px-4 border">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                                <th class="py-2 px-4 border">‡∏ä‡∏±‡πâ‡∏ô</th>
                                <th class="py-2 px-4 border">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</th>
                                <th class="py-2 px-4 border">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th>
                                <th class="py-2 px-4 border">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏î‡∏™‡∏≠‡∏ö</th>
                            </tr>
                        </thead>
                        <tbody id="passed-students">
                            <!-- Data will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Certificate Tab -->
        <div id="certificate" class="tab-content">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold mb-6">üèÜ ‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£</h2>
                
                <div class="mb-6">
                    <p class="mb-4">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£</p>
                    <form id="certificate-form" class="space-y-4 max-w-md">
                        <div>
                            <label for="cert-name" class="block text-sm font-medium text-gray-700 mb-1">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                            <input type="text" id="cert-name" name="cert-name" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        </div>
                        <div>
                            <label for="cert-classroom" class="block text-sm font-medium text-gray-700 mb-1">‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label>
                            <select id="cert-classroom" name="cert-classroom" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô --</option>
                                <option value="‡∏õ.1">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1</option>
                                <option value="‡∏õ.2">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 2</option>
                                <option value="‡∏õ.3">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 3</option>
                                <option value="‡∏õ.4">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 4</option>
                                <option value="‡∏õ.5">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 5</option>
                                <option value="‡∏õ.6">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 6</option>
                            </select>
                        </div>
                        <div>
                            <label for="cert-school" class="block text-sm font-medium text-gray-700 mb-1">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label>
                            <input type="text" id="cert-school" name="cert-school" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        </div>
                        <div>
                            <label for="cert-score" class="block text-sm font-medium text-gray-700 mb-1">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</label>
                            <input type="number" id="cert-score" name="cert-score" min="0" max="100" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        </div>
                        <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition duration-300">
                            ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£
                        </button>
                    </form>
                </div>
                
                <div id="certificate-preview" class="hidden">
                    <div id="certificate-print" class="certificate bg-white p-8 mx-auto max-w-4xl text-center">
                        <div class="border-8 border-blue-100 p-8">
                            <div class="mb-6">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                                </svg>
                            </div>
                            <h2 class="text-3xl font-bold text-blue-800 mb-4">‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£</h2>
                            <p class="text-lg mb-6">‡∏Ç‡∏≠‡∏°‡∏≠‡∏ö‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£‡∏â‡∏ö‡∏±‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤</p>
                            <p class="text-2xl font-bold mb-6" id="cert-display-name">-</p>
                            <p class="text-lg mb-6">
                                ‡∏ä‡∏±‡πâ‡∏ô <span id="cert-display-classroom">-</span> ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô <span id="cert-display-school">-</span><br>
                                ‡πÑ‡∏î‡πâ‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î<br>
                                ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô <span id="cert-display-score" class="font-bold">-</span> ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
                            </p>
                            <p class="text-lg mb-8">‡∏≠‡∏≠‡∏Å‡πÉ‡∏´‡πâ ‡∏ì ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà <span id="cert-display-date">-</span></p>
                            <div class="flex justify-center mt-8">
                                <div class="text-center mx-8">
                                    <div class="border-t-2 border-gray-400 pt-2 w-48">
                                        <p>‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠</p>
                                        <p class="font-semibold">‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-6 text-center no-print">
                        <button onclick="window.print()" class="bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-6 rounded-lg transition duration-300">
                            üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scores Tab -->
        <div id="scores" class="tab-content">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold mb-6">üìã ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h2>
                
                <div class="mb-4 flex justify-between items-center">
                    <div>
                        <input type="text" id="search-scores" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤..." class="px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <button id="refresh-scores" class="bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition duration-300">
                        üîÑ ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä
                    </button>
                </div>
                
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="py-2 px-4 border">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
                                <th class="py-2 px-4 border">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                                <th class="py-2 px-4 border">‡∏ä‡∏±‡πâ‡∏ô</th>
                                <th class="py-2 px-4 border">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</th>
                                <th class="py-2 px-4 border">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th>
                                <th class="py-2 px-4 border">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏î‡∏™‡∏≠‡∏ö</th>
                            </tr>
                        </thead>
                        <tbody id="scores-table">
                            <!-- Data will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>¬© 2025 ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î | ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢ ‡∏Ñ‡∏£‡∏π‡πÑ‡∏ó‡∏¢‡πÉ‡∏™‡πà‡πÉ‡∏à‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</p>
        </footer>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let quizQuestions = [];
        let userAnswers = [];
        let userScore = 0;
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzUHydH3Z-inq7jqDvnFzdBps5rwMs9joIh-tv9KC0UL3oO2gskJ2lX98xoI3q4QW-Riw/exec';
        const SHEET_ID = '1Uhay0AMiPzHXikqdGBnTbAie3pDvtVec86dWf6a1Uww';
        const PASS_THRESHOLD = 60; // 60% passing threshold
        
        // Quiz questions
        quizQuestions = [
            {
                question: "‡∏ß‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡πÇ‡∏•‡∏Å‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£?",
                options: ["25 ‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô", "26 ‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô", "27 ‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô", "28 ‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô"],
                answer: 1,
                explanation: "‡∏ß‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡πÇ‡∏•‡∏Å (International Day Against Drug Abuse and Illicit Trafficking) ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 26 ‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ ‡∏ã‡∏∂‡πà‡∏á‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÇ‡∏î‡∏¢‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡∏™‡∏´‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏≤‡∏ï‡∏¥"
            },
            {
                question: "‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡πÉ‡∏´‡πâ‡πÇ‡∏ó‡∏©?",
                options: ["‡πÄ‡∏Æ‡πÇ‡∏£‡∏≠‡∏µ‡∏ô", "‡∏Å‡∏±‡∏ç‡∏ä‡∏≤", "‡∏ß‡∏¥‡∏ï‡∏≤‡∏°‡∏¥‡∏ô‡∏ã‡∏µ", "‡∏¢‡∏≤‡∏ö‡πâ‡∏≤"],
                answer: 2,
                explanation: "‡∏ß‡∏¥‡∏ï‡∏≤‡∏°‡∏¥‡∏ô‡∏ã‡∏µ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏ï‡πà‡∏≠‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡πÉ‡∏´‡πâ‡πÇ‡∏ó‡∏© ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏Æ‡πÇ‡∏£‡∏≠‡∏µ‡∏ô ‡∏Å‡∏±‡∏ç‡∏ä‡∏≤ ‡πÅ‡∏•‡∏∞‡∏¢‡∏≤‡∏ö‡πâ‡∏≤ ‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡πÉ‡∏´‡πâ‡πÇ‡∏ó‡∏©‡∏ï‡∏≤‡∏°‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢"
            },
            {
                question: "‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡πÇ‡∏•‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡πÉ‡∏î?",
                options: ["‡∏î‡∏≠‡∏Å‡∏Å‡∏∏‡∏´‡∏•‡∏≤‡∏ö‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß", "‡∏î‡∏≠‡∏Å‡∏ó‡∏≤‡∏ô‡∏ï‡∏∞‡∏ß‡∏±‡∏ô", "‡∏î‡∏≠‡∏Å‡∏õ‡πä‡∏≠‡∏õ‡∏õ‡∏µ‡πâ", "‡∏î‡∏≠‡∏Å‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡πÑ‡∏°‡πâ"],
                answer: 0,
                explanation: "‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡πÇ‡∏•‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏î‡∏≠‡∏Å‡∏Å‡∏∏‡∏´‡∏•‡∏≤‡∏ö‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß ‡∏ã‡∏∂‡πà‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏£‡∏¥‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πå‡πÅ‡∏•‡∏∞‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏à‡∏≤‡∏Å‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î"
            },
            {
                question: "‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Ç‡∏≠‡∏á‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢?",
                options: ["‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á", "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏°‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô", "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ó‡∏ñ‡∏π‡∏Å‡∏ó‡∏≥‡∏•‡∏≤‡∏¢", "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏≠‡∏≤‡∏¢‡∏∏‡∏¢‡∏∑‡∏ô‡∏¢‡∏≤‡∏ß"],
                answer: 2,
                explanation: "‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡∏™‡πà‡∏á‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡πÇ‡∏î‡∏¢‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ó‡∏ñ‡∏π‡∏Å‡∏ó‡∏≥‡∏•‡∏≤‡∏¢ ‡∏™‡πà‡∏á‡∏ú‡∏•‡πÄ‡∏™‡∏µ‡∏¢‡∏ï‡πà‡∏≠‡∏™‡∏°‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏≠‡∏ß‡∏±‡∏¢‡∏ß‡∏∞‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÉ‡∏ô‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢"
            },
            {
                question: "‡∏Ñ‡∏≥‡∏Ç‡∏ß‡∏±‡∏ç‡∏ß‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡πÇ‡∏•‡∏Å‡∏õ‡∏µ 2566 ‡∏Ñ‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡πÉ‡∏î?",
                options: ["‡∏£‡πà‡∏ß‡∏°‡πÅ‡∏£‡∏á‡∏£‡πà‡∏ß‡∏°‡πÉ‡∏à ‡∏ï‡πâ‡∏≤‡∏ô‡∏†‡∏±‡∏¢‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î", "‡∏Ñ‡∏ô‡πÑ‡∏ó‡∏¢‡∏£‡∏ß‡∏°‡∏û‡∏•‡∏±‡∏á ‡πÄ‡∏•‡∏¥‡∏Å‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏≤‡∏ï‡∏¥", "‡∏£‡∏ß‡∏°‡∏û‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏µ ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡∏ï‡πâ‡∏≤‡∏ô‡∏†‡∏±‡∏¢‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î", "People First: Stop Stigma and Discrimination, Strengthen Prevention"],
                answer: 3,
                explanation: "‡∏Ñ‡∏≥‡∏Ç‡∏ß‡∏±‡∏ç‡∏ß‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡πÇ‡∏•‡∏Å‡∏õ‡∏µ 2566 ‡∏Ñ‡∏∑‡∏≠ 'People First: Stop Stigma and Discrimination, Strengthen Prevention' ‡∏ã‡∏∂‡πà‡∏á‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡πà‡∏≤ '‡∏Ñ‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î: ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏ï‡∏£‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥ ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô'"
            },
            {
                question: "‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î?",
                options: ["‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏ó‡∏©‡∏Ç‡∏≠‡∏á‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î", "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ", "‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå", "‡∏•‡∏≠‡∏á‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏î‡∏µ"],
                answer: 3,
                explanation: "‡∏Å‡∏≤‡∏£‡∏•‡∏≠‡∏á‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡πÅ‡∏°‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡πá‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ï‡∏¥‡∏î‡πÑ‡∏î‡πâ ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢ ‡∏à‡∏∂‡∏á‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î"
            },
            {
                question: "‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡πÉ‡∏î‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏≤‡∏ö‡∏õ‡∏£‡∏≤‡∏°‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î?",
                options: ["‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô ‡∏õ.‡∏õ.‡∏™.", "‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç", "‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£", "‡∏Å‡∏£‡∏°‡∏ï‡∏≥‡∏£‡∏ß‡∏à"],
                answer: 0,
                explanation: "‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ñ‡∏ì‡∏∞‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏≤‡∏ö‡∏õ‡∏£‡∏≤‡∏°‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î (‡∏õ.‡∏õ.‡∏™.) ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏≤‡∏ö‡∏õ‡∏£‡∏≤‡∏°‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢"
            },
            {
                question: "‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏î‡πá‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏¢‡∏≤‡∏ß‡∏ä‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î?",
                options: ["‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ", "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏≠‡∏á", "‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠", "‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠"],
                answer: 1,
                explanation: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏î‡πá‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏¢‡∏≤‡∏ß‡∏ä‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô‡∏ß‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô"
            },
            {
                question: "‡∏ñ‡πâ‡∏≤‡∏û‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
                options: ["‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏£‡πà‡∏ß‡∏°‡πÉ‡∏ä‡πâ‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡∏î‡πâ‡∏ß‡∏¢", "‡πÄ‡∏û‡∏¥‡∏Å‡πÄ‡∏â‡∏¢ ‡πÑ‡∏°‡πà‡∏™‡∏ô‡πÉ‡∏à", "‡πÅ‡∏à‡πâ‡∏á‡∏Ñ‡∏£‡∏π‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠", "‡∏ñ‡πà‡∏≤‡∏¢‡∏Ñ‡∏•‡∏¥‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏≥‡πÑ‡∏õ‡πÅ‡∏ä‡∏£‡πå‡πÉ‡∏ô‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏•‡∏°‡∏µ‡πÄ‡∏î‡∏µ‡∏¢"],
                answer: 2,
                explanation: "‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡∏Ñ‡∏£‡∏π‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏ö‡∏≥‡∏ö‡∏±‡∏î‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ"
            },
            {
                question: "‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Ç‡∏≠‡∏á‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏™‡∏±‡∏á‡∏Ñ‡∏°?",
                options: ["‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô", "‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô", "‡∏≠‡∏≤‡∏ä‡∏ç‡∏≤‡∏Å‡∏£‡∏£‡∏°‡∏•‡∏î‡∏•‡∏á", "‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏≤‡∏ä‡∏ç‡∏≤‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô"],
                answer: 3,
                explanation: "‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î‡∏™‡πà‡∏á‡∏ú‡∏•‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏≤‡∏ä‡∏ç‡∏≤‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏û‡∏≠‡∏≤‡∏à‡∏Å‡πà‡∏≠‡∏≠‡∏≤‡∏ä‡∏ç‡∏≤‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏≤‡∏ã‡∏∑‡πâ‡∏≠‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≤‡∏à‡∏Å‡πà‡∏≠‡πÄ‡∏´‡∏ï‡∏∏‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏§‡∏ó‡∏ò‡∏¥‡πå‡∏Ç‡∏≠‡∏á‡∏¢‡∏≤"
            }
        ];

        // Function to show tab
        function showTab(tabId) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabId).classList.add('active');
            
            // Update active tab button
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Find the button that triggered this tab and make it active
            document.querySelectorAll('.tab').forEach(tab => {
                if (tab.textContent.includes(tabId === 'home' ? 'üè†' : 
                                            tabId === 'quiz' ? 'üìù' : 
                                            tabId === 'dashboard' ? 'üìä' : 
                                            tabId === 'certificate' ? 'üèÜ' : 'üìã')) {
                    tab.classList.add('active');
                }
            });
            
            // Load data for specific tabs
            if (tabId === 'scores') {
                loadScores();
            } else if (tabId === 'dashboard') {
                loadDashboardData();
            }
        }

        // Format date to Thai short format (day month year)
        function formatThaiDate(dateString) {
            const date = new Date(dateString);
            const day = date.getDate();
            const monthNames = ['‡∏°.‡∏Ñ.', '‡∏Å.‡∏û.', '‡∏°‡∏µ.‡∏Ñ.', '‡πÄ‡∏°.‡∏¢.', '‡∏û.‡∏Ñ.', '‡∏°‡∏¥.‡∏¢.', '‡∏Å.‡∏Ñ.', '‡∏™.‡∏Ñ.', '‡∏Å.‡∏¢.', '‡∏ï.‡∏Ñ.', '‡∏û.‡∏¢.', '‡∏ò.‡∏Ñ.'];
            const month = monthNames[date.getMonth()];
            const year = date.getFullYear() + 543; // Convert to Buddhist Era
            return `${day} ${month} ${year}`;
        }

        // Get current Thai date in short format
        function getCurrentThaiDate() {
            return formatThaiDate(new Date());
        }

        // Function to update quiz progress
        function updateQuizProgress() {
            const answeredCount = userAnswers.filter(answer => answer !== null).length;
            const progressPercent = (answeredCount / quizQuestions.length) * 100;
            
            document.getElementById('quiz-progress').style.width = `${progressPercent}%`;
            document.getElementById('answered-count').textContent = answeredCount;
            document.getElementById('current-score').textContent = userScore;
        }

        // Function to generate quiz
        function generateQuiz() {
            const quizContainer = document.getElementById('quiz-container');
            quizContainer.innerHTML = '';
            
            // Shuffle questions for randomization
            const shuffledQuestions = [...quizQuestions].sort(() => Math.random() - 0.5);
            
            // Reset user answers and score
            userAnswers = Array(shuffledQuestions.length).fill(null);
            userScore = 0;
            
            // Update progress
            updateQuizProgress();
            
            // Generate each question
            shuffledQuestions.forEach((q, qIndex) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-card';
                questionDiv.id = `question-${qIndex}`;
                
                // Question header
                const questionHeader = document.createElement('div');
                questionHeader.className = 'flex items-start mb-4';
                questionHeader.innerHTML = `
                    <div class="question-number mr-4">${qIndex + 1}</div>
                    <div>
                        <h3 class="text-lg font-semibold mb-2">${q.question}</h3>
                    </div>
                `;
                questionDiv.appendChild(questionHeader);
                
                // Options
                const optionsDiv = document.createElement('div');
                optionsDiv.className = 'space-y-3 ml-14';
                
                const optionLabels = ['‡∏Å', '‡∏Ç', '‡∏Ñ', '‡∏á'];
                q.options.forEach((option, oIndex) => {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'quiz-option';
                    optionDiv.innerHTML = `
                        <div class="option-circle">${optionLabels[oIndex]}</div>
                        <div>${option}</div>
                    `;
                    optionDiv.dataset.questionIndex = qIndex;
                    optionDiv.dataset.optionIndex = oIndex;
                    
                    optionDiv.addEventListener('click', function() {
                        // If already answered, do nothing
                        if (userAnswers[qIndex] !== null) return;
                        
                        // Mark as selected
                        document.querySelectorAll(`[data-question-index="${qIndex}"]`).forEach(opt => {
                            opt.classList.remove('selected');
                        });
                        this.classList.add('selected');
                        
                        // Record answer
                        const selectedOption = parseInt(this.dataset.optionIndex);
                        userAnswers[qIndex] = selectedOption;
                        
                        // Check if correct
                        const isCorrect = selectedOption === shuffledQuestions[qIndex].answer;
                        
                        // Update score
                        if (isCorrect) {
                            userScore += 10;
                        }
                        
                        // Update progress
                        updateQuizProgress();
                        
                        // Show result
                        setTimeout(() => {
                            // Mark correct/incorrect
                            document.querySelectorAll(`[data-question-index="${qIndex}"]`).forEach(opt => {
                                const optIndex = parseInt(opt.dataset.optionIndex);
                                if (optIndex === shuffledQuestions[qIndex].answer) {
                                    opt.classList.add('correct');
                                } else if (optIndex === selectedOption && !isCorrect) {
                                    opt.classList.add('incorrect');
                                }
                            });
                            
                            // Show explanation
                            const explanationDiv = document.createElement('div');
                            explanationDiv.className = `explanation-box ${isCorrect ? 'correct' : 'incorrect'} ml-14`;
                            explanationDiv.innerHTML = `
                                <p class="font-medium">${isCorrect ? '‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á' : '‚ùå ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á'}</p>
                                <p>${shuffledQuestions[qIndex].explanation}</p>
                            `;
                            questionDiv.appendChild(explanationDiv);
                            
                            // Scroll to next unanswered question if available
                            const nextUnansweredIndex = userAnswers.findIndex(ans => ans === null);
                            if (nextUnansweredIndex !== -1) {
                                const nextQuestion = document.getElementById(`question-${nextUnansweredIndex}`);
                                if (nextQuestion) {
                                    setTimeout(() => {
                                        nextQuestion.scrollIntoView({ behavior: 'smooth', block: 'center' });
                                    }, 500);
                                }
                            }
                            
                            // Check if all questions answered
                            if (!userAnswers.includes(null)) {
                                document.getElementById('final-score').textContent = userScore;
                                document.getElementById('quiz-result').classList.remove('hidden');
                                
                                // Check if passed threshold
                                const passed = userScore >= PASS_THRESHOLD;
                                if (passed) {
                                    document.getElementById('pass-message').classList.remove('hidden');
                                    document.getElementById('fail-message').classList.add('hidden');
                                    document.getElementById('save-result').classList.remove('hidden');
                                    document.getElementById('retry-quiz').classList.add('hidden');
                                } else {
                                    document.getElementById('pass-message').classList.add('hidden');
                                    document.getElementById('fail-message').classList.remove('hidden');
                                    document.getElementById('save-result').classList.add('hidden');
                                    document.getElementById('retry-quiz').classList.remove('hidden');
                                }
                                
                                // Auto-fill certificate form if passed
                                if (passed) {
                                    document.getElementById('cert-name').value = currentUser.name;
                                    document.getElementById('cert-classroom').value = currentUser.classroom;
                                    document.getElementById('cert-school').value = currentUser.school;
                                    document.getElementById('cert-score').value = userScore;
                                }
                                
                                // Scroll to result
                                setTimeout(() => {
                                    document.getElementById('quiz-result').scrollIntoView({ behavior: 'smooth', block: 'center' });
                                }, 500);
                            }
                        }, 500);
                    });
                    
                    optionsDiv.appendChild(optionDiv);
                });
                
                questionDiv.appendChild(optionsDiv);
                quizContainer.appendChild(questionDiv);
            });
        }

        // Function to save quiz result
        function saveQuizResult() {
            // Check if score meets threshold
            if (userScore < PASS_THRESHOLD) {
                Swal.fire({
                    icon: 'error',
                    title: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡πÑ‡∏î‡πâ',
                    text: '‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 60% ‡∏à‡∏∂‡∏á‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÑ‡∏î‡πâ',
                    confirmButtonText: '‡∏ï‡∏Å‡∏•‡∏á'
                });
                return;
            }
            
            Swal.fire({
                title: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•',
                text: '‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà...',
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading();
                }
            });
            
            const data = {
                name: currentUser.name,
                classroom: currentUser.classroom,
                school: currentUser.school,
                score: userScore,
                date: getCurrentThaiDate(), // Now using short Thai date format
                action: 'addRecord'
            };
            
            fetch(SCRIPT_URL, {
                method: 'POST',
                body: JSON.stringify(data),
                headers: {
                    'Content-Type': 'text/plain'
                }
            })
            .then(response => response.json())
            .then(data => {
                Swal.fire({
                    icon: 'success',
                    title: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à',
                    text: '‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß',
                    confirmButtonText: '‡∏ï‡∏Å‡∏•‡∏á'
                });
                
                // Disable save button
                document.getElementById('save-result').disabled = true;
                document.getElementById('save-result').classList.add('bg-gray-400');
                document.getElementById('save-result').classList.remove('bg-green-500', 'hover:bg-green-600');
                document.getElementById('save-result').textContent = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß';
                
                // Enable certificate tab
                showTab('certificate');
            })
            .catch(error => {
                console.error('Error:', error);
                Swal.fire({
                    icon: 'error',
                    title: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',
                    text: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ ‡πÇ‡∏õ‡∏£‡∏î‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á',
                    confirmButtonText: '‡∏ï‡∏Å‡∏•‡∏á'
                });
            });
        }

        // Function to load scores
        function loadScores() {
            document.getElementById('scores-table').innerHTML = '<tr><td colspan="6" class="text-center py-4">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</td></tr>';
            
            fetch(`${SCRIPT_URL}?action=getRecords&sheetId=${SHEET_ID}`)
            .then(response => response.json())
            .then(data => {
                if (data && data.records && data.records.length > 0) {
                    renderScoresTable(data.records);
                } else {
                    document.getElementById('scores-table').innerHTML = '<tr><td colspan="6" class="text-center py-4">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td></tr>';
                }
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('scores-table').innerHTML = '<tr><td colspan="6" class="text-center py-4 text-red-500">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td></tr>';
            });
        }

        // Function to render scores table
        function renderScoresTable(records) {
            const tableBody = document.getElementById('scores-table');
            tableBody.innerHTML = '';
            
            records.forEach((record, index) => {
                const row = document.createElement('tr');
                row.className = index % 2 === 0 ? 'bg-white' : 'bg-gray-50';
                
                row.innerHTML = `
                    <td class="py-2 px-4 border text-center">${index + 1}</td>
                    <td class="py-2 px-4 border">${record.name}</td>
                    <td class="py-2 px-4 border text-center">${record.classroom}</td>
                    <td class="py-2 px-4 border">${record.school}</td>
                    <td class="py-2 px-4 border text-center font-medium ${parseInt(record.score) >= 60 ? 'text-green-600' : 'text-red-600'}">${record.score}</td>
                    <td class="py-2 px-4 border text-center">${record.date}</td>
                `;
                
                tableBody.appendChild(row);
            });
        }

        // Function to load dashboard data
        function loadDashboardData() {
            fetch(`${SCRIPT_URL}?action=getRecords&sheetId=${SHEET_ID}`)
            .then(response => response.json())
            .then(data => {
                if (data && data.records && data.records.length > 0) {
                    // Update dashboard stats
                    const records = data.records;
                    const totalParticipants = records.length;
                    const passedStudents = records.filter(r => parseInt(r.score) >= 60);
                    const passedCount = passedStudents.length;
                    const totalScore = records.reduce((sum, r) => sum + parseInt(r.score), 0);
                    const averageScore = Math.round(totalScore / totalParticipants);
                    
                    document.getElementById('total-participants').textContent = totalParticipants;
                    document.getElementById('passed-count').textContent = passedCount;
                    document.getElementById('average-score').textContent = averageScore;
                    
                    // Render passed students table
                    const passedTable = document.getElementById('passed-students');
                    passedTable.innerHTML = '';
                    
                    if (passedStudents.length > 0) {
                        passedStudents.sort((a, b) => parseInt(b.score) - parseInt(a.score));
                        
                        passedStudents.forEach((student, index) => {
                            const row = document.createElement('tr');
                            row.className = index % 2 === 0 ? 'bg-white' : 'bg-gray-50';
                            
                            row.innerHTML = `
                                <td class="py-2 px-4 border text-center">${index + 1}</td>
                                <td class="py-2 px-4 border">${student.name}</td>
                                <td class="py-2 px-4 border text-center">${student.classroom}</td>
                                <td class="py-2 px-4 border">${student.school}</td>
                                <td class="py-2 px-4 border text-center font-medium text-green-600">${student.score}</td>
                                <td class="py-2 px-4 border text-center">${student.date}</td>
                            `;
                            
                            passedTable.appendChild(row);
                        });
                    } else {
                        passedTable.innerHTML = '<tr><td colspan="6" class="text-center py-4">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå</td></tr>';
                    }
                } else {
                    document.getElementById('total-participants').textContent = '0';
                    document.getElementById('passed-count').textContent = '0';
                    document.getElementById('average-score').textContent = '0';
                    document.getElementById('passed-students').innerHTML = '<tr><td colspan="6" class="text-center py-4">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td></tr>';
                }
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('passed-students').innerHTML = '<tr><td colspan="6" class="text-center py-4 text-red-500">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td></tr>';
            });
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Login form submission
            document.getElementById('login-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const name = document.getElementById('name').value;
                const classroom = document.getElementById('classroom').value;
                const school = document.getElementById('school').value;
                
                if (name && classroom && school) {
                    currentUser = { name, classroom, school };
                    
                    // Update user info display
                    document.getElementById('user-info-display').textContent = `${name} | ${classroom} | ${school}`;
                    
                    // Enable quiz tab
                    document.getElementById('quiz-tab').disabled = false;
                    
                    // Generate quiz
                    generateQuiz();
                    
                    // Show quiz tab
                    showTab('quiz');
                }
            });
            
            // Save quiz result
            document.getElementById('save-result').addEventListener('click', saveQuizResult);
            
            // Retry quiz
            document.getElementById('retry-quiz').addEventListener('click', function() {
                // Generate new quiz
                generateQuiz();
                
                // Hide result
                document.getElementById('quiz-result').classList.add('hidden');
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            // Certificate form submission
            document.getElementById('certificate-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const name = document.getElementById('cert-name').value;
                const classroom = document.getElementById('cert-classroom').value;
                const school = document.getElementById('cert-school').value;
                const score = document.getElementById('cert-score').value;
                
                if (name && classroom && school && score) {
                    // Update certificate
                    document.getElementById('cert-display-name').textContent = name;
                    document.getElementById('cert-display-classroom').textContent = classroom;
                    document.getElementById('cert-display-school').textContent = school;
                    document.getElementById('cert-display-score').textContent = score;
                    document.getElementById('cert-display-date').textContent = getCurrentThaiDate();
                    
                    // Show certificate
                    document.getElementById('certificate-preview').classList.remove('hidden');
                }
            });
            
            // Search scores
            document.getElementById('search-scores').addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                const rows = document.querySelectorAll('#scores-table tr');
                
                rows.forEach(row => {
                    const text = row.textContent.toLowerCase();
                    if (text.includes(searchTerm)) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
            });
            
            // Refresh scores
            document.getElementById('refresh-scores').addEventListener('click', loadScores);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9523de5bb3f1f305',t:'MTc1MDM0NDkzOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
